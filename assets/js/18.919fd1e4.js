(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{292:function(e,s,t){"use strict";t.r(s);var a=t(38),r=Object(a.a)({},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"使用-vuepress-搭建博客"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-vuepress-搭建博客","aria-hidden":"true"}},[e._v("#")]),e._v(" 使用 VuePress 搭建博客")]),e._v(" "),t("blockquote",[t("p",[t("strong",[e._v("前排提醒:")]),e._v(" 你也许需要一定的前端基础（非传统前端）才能读懂此篇文章的内容。")])]),e._v(" "),t("p",[e._v("我认为 Vue 的生态是有够好的了——有 Router，有 Vuex，还有更多，都是非常有用处的。其中就包含 VuePress，原本是尤雨溪先生用来提高写文档效率而写的一个小作品，现在被发展后可以用作电子书/教程编写和博客的编写。本篇文章介绍的是后者，实际上两者是相通的。")]),e._v(" "),t("h2",{attrs:{id:"流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程","aria-hidden":"true"}},[e._v("#")]),e._v(" 流程")]),e._v(" "),t("p",[e._v("VuePress 与其它静态博客软件的发布流程基本一样——写完文章后 "),t("code",[e._v("build")]),e._v(" 成为静态文件。所以如果是 Hexo 或者 Hugo 用户看到这篇文章中的流程也许会感觉很熟悉，不过这里还是提到一下。")]),e._v(" "),t("p",[e._v("也正因为是静态文件，所以可以使用 GitHub 托管——当然也可以使用你自己的主机，仅需将网站根目录设置为 "),t("code",[e._v("build")]),e._v(" 产生的静态文件的目录即可。这会在下文中提到。")]),e._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),t("p",[e._v("首先选择一个你想要用来作为博客源代码放置之处的文件夹，"),t("strong",[e._v("下文中如果没有特殊声明，所有的文件、目录均指创建在此文件夹里")]),e._v("。")]),e._v(" "),t("p",[e._v("通过 npm 和 yarn 均可安装。本文主要使用 npm。")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -D vuepress\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 或者 yarn add -D vuepress")]),e._v("\n")])])]),t("p",[e._v("需要注意的一点是，这种方式是以本地依赖（dependencies）的形式安装 VuePress，它会在当前目录生成一个 "),t("code",[e._v("node_modules")]),e._v(" 文件夹并自动安装 JavaScript、Vue 等所需要的依赖。")]),e._v(" "),t("p",[e._v("在本文后面出现的指令均无法以 "),t("code",[e._v("vuepress")]),e._v(" 开头，因为 VuePress 没有被全局安装。")]),e._v(" "),t("p",[e._v("安装完成之后，就可以开始搭建了。")]),e._v(" "),t("h2",{attrs:{id:"搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搭建","aria-hidden":"true"}},[e._v("#")]),e._v(" 搭建")]),e._v(" "),t("p",[e._v("个人还是建议将你的博客的源代码托管到 GitHub 上，哪怕私有也好。当然，你也可以选择部署到自己的 Git 服务器上。这样做就有这些好处")]),e._v(" "),t("ol",[t("li",[e._v("一个算是比较简单的双重备份吧，当你的数据消失后，可以通过 Git Log 找到；")]),e._v(" "),t("li",[e._v("一些插件需要通过 Git 的提交日志获得你提交某篇文章的具体时刻，然后才能够显示日期或者 XX ago。")])]),e._v(" "),t("p",[e._v("那么首先我们创建一个专门放置「文章」的目录（区分于「独立页面」，这样做可以避免混淆），名称可以自取，例如 "),t("code",[e._v("archives")]),e._v("、"),t("code",[e._v("articles")]),e._v("、"),t("code",[e._v("posts")]),e._v("、"),t("code",[e._v("docs")]),e._v(" 等均可表达这个意思，也是传统博客程序中常用的。")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" posts\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" posts\n")])])]),t("p",[e._v("然后就可以在这个文件夹里进行写作了，写作仅需在此文件夹里建立不同的 Markdown 文件，VuePress 会自动识别到你的文章。")]),e._v(" "),t("p",[e._v("VuePress 的写作使用 Markdown 文件进行，路由会自动将你的 Markdown 文件名称在实际 production 中转换成文件名 + "),t("code",[e._v(".html")]),e._v(" 的形式。")]),e._v(" "),t("p",[e._v("例如 "),t("code",[e._v("docs/Hello-World.md")]),e._v(" 将会被转化为 "),t("code",[e._v("docs/Hello-World.html")]),e._v("，而在根目录的 "),t("code",[e._v("Hello.md")]),e._v(" 将会被转化为 "),t("code",[e._v("Hello.html")]),e._v("，这也是为什么需要专门创建一个文件夹用来放置文章的原因，根目录里只需要放置独立页面即可，这样从路由层面看来会更加友好。")]),e._v(" "),t("p",[e._v("到目前为止，你的博客目录应该为这个样子")]),e._v(" "),t("div",{staticClass:"language-tree extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(".\n├─package-lock.json\n├─package.json\n├─node_modules\n└─posts\n")])])]),t("h2",{attrs:{id:"写作与发布"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#写作与发布","aria-hidden":"true"}},[e._v("#")]),e._v(" 写作与发布")]),e._v(" "),t("p",[e._v("如果你的环境已经搭建完毕，那么你可以选择在纯 Markdown 下进行写作，然后直接 "),t("code",[e._v("push")]),e._v(" 到你的仓库中去。")]),e._v(" "),t("p",[e._v("而如果你想要实时预览自己的文章在博客上的样子，或者调试一些应用层面的东西，你就需要启动开发服务器。")]),e._v(" "),t("p",[e._v("与 Vue 的开发服务器相同，VuePress 的服务器也是支持热重载的。")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 如果之前 npm install 为全局安装")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# npm install -D -g vuepress")]),e._v("\nvuepress dev "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 如果之前 npm install 是以本地依赖安装")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# npm install -D vuepress")]),e._v("\nnpx vuepress dev "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n")])])]),t("p",[e._v("这样，在默认情况下会在 "),t("a",{attrs:{href:"https://localhost:8080",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://localhost:8080"),t("OutboundLink")],1),e._v(" 开放你的开发服务器，访问即可看到你的网站。")]),e._v(" "),t("p",[e._v("最后，写完了就可以进行构建了——将你的网站样式和内容编译成静态网页。")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("vuepress build "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# or")]),e._v("\nnpx vuepress build "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n")])])]),t("p",[e._v("默认情况下这个静态网页会被保存到 "),t("code",[e._v(".vuepress/dist")]),e._v(" 内，在后文会介绍修改方法。")]),e._v(" "),t("h2",{attrs:{id:"配置、主题、插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置、主题、插件","aria-hidden":"true"}},[e._v("#")]),e._v(" 配置、主题、插件")]),e._v(" "),t("p",[e._v("VuePress 之所以适合开发者，是因为它可以通过配置、主题和插件三方面高程度个性化——当然，是在你会 Vue 而且会看 VuePress 的 API 的前提下。")]),e._v(" "),t("p",[e._v("VuePress 的配置文件存储在 "),t("code",[e._v(".vuepress")]),e._v(" 里，一般情况下是没有这个文件夹的，我们可以自己创建。")]),e._v(" "),t("p",[e._v("进入后，创建 "),t("code",[e._v("config.js")]),e._v("，这就是 VuePress 的配置文件。")]),e._v(" "),t("p",[t("code",[e._v("config.js")]),e._v(" 在写入一个语句之后即可当作一般的 JSON 文件来使用——它比 JSON 要宽松得多。")]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[e._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("export "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    title"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Subilan\'s Blog"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("具体配置项目可以参考 VuePress 官方文档的"),t("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/basic-config.html#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[e._v("配置"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("要切换主题，首先使用 npm 安装你想要的主题，比如")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" vuepress-theme-example --save-dev\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# yarn add vuepress-theme-example --dev")]),e._v("\n")])])]),t("p",[e._v("然后在 "),t("code",[e._v("config.js")]),e._v(" 里添加一行")]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[e._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("export "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n    theme"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"example"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("即可。")]),e._v(" "),t("p",[e._v("在这里需要注意的一点是，VuePress 的所有主题、Plugin，根据官方的建议，均是以 "),t("code",[e._v("vuepress-theme-")]),e._v(" 和 "),t("code",[e._v("vuepress-plugin-")]),e._v(" 开头。也正因此，安装以他们开头的主题或插件，在填写的时候则可以省略 "),t("code",[e._v("vuepress-theme-")]),e._v(" 这样的开头。当然，这只是一般情况，具体请以你所看到的主题或插件为准。")]),e._v(" "),t("p",[e._v("关于 VuePress 原版主题的相关配置可以看官方文档的"),t("a",{attrs:{href:"https://vuepress.vuejs.org/zh/default-theme-config/",target:"_blank",rel:"noopener noreferrer"}},[e._v("默认主题"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),t("p",[e._v("这是阅读完文章后，我个人推荐去参考的一些文档，以及一些可能需要的插件。")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://vuepress.vuejs.org/zh/config/#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[e._v("config.js 里完整的配置项有多少、哪些，有何作用？"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.google.com/search?q=vuepress-theme+site%3Agithub.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Google 搜索 VuePress 的主题"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/meteorlxy/awesome-vuepress",target:"_blank",rel:"noopener noreferrer"}},[e._v("meteorlxy/awesome-vuepress"),t("OutboundLink")],1),e._v(" - 丰富的 VuePress 周边生态推荐")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/vuepress/tree/master/packages/@vuepress",target:"_blank",rel:"noopener noreferrer"}},[e._v("vuejs/vuepress/packages/@vuepress"),t("OutboundLink")],1),e._v(" - VuePress 官方开发的插件")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuepress/vuepress-plugin-mathjax",target:"_blank",rel:"noopener noreferrer"}},[e._v("vuepress-plugin-mathjax"),t("OutboundLink")],1),e._v(" - 在你的博客里写 "),t("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[t("mjx-math",{staticClass:" MJX-TEX",staticStyle:{width:"2.731em"}},[t("mjx-mi",{staticClass:"mjx-i"},[t("mjx-c",{attrs:{c:"L"}})],1),t("mjx-mspace",{staticStyle:{"margin-right":"-0.325em"}}),t("mjx-mpadded",[t("mjx-block",{staticStyle:{margin:"0.21em 0 0",position:"relative"}},[t("mjx-rbox",{staticStyle:{left:"0",top:"-0.21em"}},[t("mjx-TeXAtom",[t("mjx-mstyle",{attrs:{size:"s"}},[t("mjx-TeXAtom",[t("mjx-mi",{staticClass:"mjx-i"},[t("mjx-c",{attrs:{c:"A"}})],1)],1)],1)],1)],1)],1)],1),t("mjx-mspace",{staticStyle:{"margin-right":"-0.17em"}}),t("mjx-mi",{staticClass:"mjx-i"},[t("mjx-c",{attrs:{c:"T"}})],1),t("mjx-mspace",{staticStyle:{"margin-right":"-0.14em"}}),t("mjx-mpadded",[t("mjx-block",{staticStyle:{margin:"-0.216em 0 0.215em",position:"relative"}},[t("mjx-rbox",{staticStyle:{left:"0",top:"0.215em"}},[t("mjx-TeXAtom",[t("mjx-mi",{staticClass:"mjx-i"},[t("mjx-c",{attrs:{c:"E"}})],1)],1)],1)],1)],1),t("mjx-mspace",{staticStyle:{"margin-right":"-0.115em"}}),t("mjx-mi",{staticClass:"mjx-i"},[t("mjx-c",{attrs:{c:"X"}})],1)],1)],1),e._v(" 公式。")],1),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/vuepress/tree/master/packages/@vuepress/plugin-last-updated",target:"_blank",rel:"noopener noreferrer"}},[e._v("vuepress-plugin-last-updated"),t("OutboundLink")],1),e._v(" - 根据 Git Log 显示文章最后修改时间")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/vuepress/tree/master/packages/@vuepress/plugin-pwa",target:"_blank",rel:"noopener noreferrer"}},[e._v("vuepress-plugin-pwa"),t("OutboundLink")],1),e._v(" - 将你的博客变成具有 PWA 性质的 Web App")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/Subilan/Blog",target:"_blank",rel:"noopener noreferrer"}},[e._v("Subilan/Blog"),t("OutboundLink")],1),e._v(" - 本博客的 GitHub 仓库")])])])},[],!1,null,null,null);s.default=r.exports}}]);